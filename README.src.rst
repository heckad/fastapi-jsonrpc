|tests|

.. |tests| image:: https://github.com/smagafurov/fastapi-jsonrpc/actions/workflows/tests.yml/badge.svg
   :target: https://github.com/smagafurov/fastapi-jsonrpc/actions/workflows/tests.yml


Description
===========

JSON-RPC server based on fastapi:

    https://fastapi.tiangolo.com

OpenRPC supported too.

Motivation
^^^^^^^^^^

Autogenerated **OpenAPI** and **Swagger** (thanks to fastapi) for JSON-RPC!!!

Installation
============

.. code-block:: bash

    pip install fastapi-jsonrpc

Documentation
=============

Read FastAPI documentation and see usage examples bellow

Simple usage example
====================

.. code-block:: bash

    pip install uvicorn

example1.py

.. include:: example1.py
    :code: python

OpenRPC:

    http://127.0.0.1:5000/openrpc.json

Swagger:

    http://127.0.0.1:5000/docs

FastAPI dependencies usage example
==================================

.. code-block:: bash

    pip install uvicorn

example2.py

.. include:: example2.py
    :code: python

OpenRPC:

    http://127.0.0.1:5000/openrpc.json

Swagger:

    http://127.0.0.1:5000/docs

.. image:: ./images/fastapi-jsonrpc.png

Development
===========

* Install poetry

    https://github.com/sdispater/poetry#installation

* Install dependencies

    .. code-block:: bash

        poetry update

* Regenerate README.rst

    .. code-block:: bash

        rst_include include -q README.src.rst README.rst

* Change dependencies

    Edit ``pyproject.toml``

    .. code-block:: bash

        poetry update

* Bump version

    .. code-block:: bash

        poetry version patch
        poetry version minor
        poetry version major

* Publish to pypi

    .. code-block:: bash

        poetry publish --build
